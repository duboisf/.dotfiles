if (( $# != 1 )); then
    echo "Usage: $0 <GITHUB SEARCH QUERY>"
    return 1
fi

local search_query="$1"

local encoded_query=$(python3 \
    -c "import urllib.parse; import sys; print(urllib.parse.quote_plus(sys.argv[1]))" \
        "$search_query")

gh api \
  -H "Accept: application/vnd.github+json" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  '/search/code?q='"$encoded_query"
